{"ast":null,"code":"// auction 전체 호출 (조건에 따라 필터링 호출)\nimport connectSupabase from \"./connectSupabase\";\n/**\n * auction 전체 데이터 호출\n * @returns Auction_post[]\n */\nexport async function fetchGetAuctions(searchKeyword = \"\", categories, limit = 20, offset = 0, orderBy = \"created_at\", order = false) {\n  const query = connectSupabase.from(\"auction_post\").select(\"*, category(category_name), user_info(user_email)\").order(`${orderBy}`, {\n    ascending: order\n  });\n  if (searchKeyword) {\n    query.like(\"title\", `%${searchKeyword}%`).like(\"content\", `%${searchKeyword}%`);\n  }\n  if (categories.length > 0) {\n    query.in(\"category_id\", categories);\n  }\n  const {\n    data\n  } = await query.returns();\n  return data;\n}\nexport const fetchGetCategories = async () => {\n  const {\n    data\n  } = await connectSupabase.from(\"category\").select(\"*\");\n  return data;\n};\nexport const fetchGetAuctionById = async auction_id => {\n  const {\n    data,\n    error\n  } = await connectSupabase.from(\"auction_post\").select(`auction_post:*, auction_images(image_path)`).eq(\"auction_id\", auction_id).single();\n  if (error) throw new Error(error.message);\n  return data;\n};","map":{"version":3,"names":["connectSupabase","fetchGetAuctions","searchKeyword","categories","limit","offset","orderBy","order","query","from","select","ascending","like","length","in","data","returns","fetchGetCategories","fetchGetAuctionById","auction_id","error","eq","single","Error","message"],"sources":["/Users/yeol/programing/project/auction_project/src/api/auction.ts"],"sourcesContent":["// auction 전체 호출 (조건에 따라 필터링 호출)\nimport connectSupabase from \"./connectSupabase\";\nimport { Auction_post, Category } from \"../types/databaseRetrunTypes\";\nimport { PostgrestSingleResponse } from \"@supabase/supabase-js\";\n\n/**\n * auction 전체 데이터 호출\n * @returns Auction_post[]\n */\nexport async function fetchGetAuctions(\n  searchKeyword: string = \"\",\n  categories: Pick<Category, \"category_id\">[],\n  limit: number = 20,\n  offset: number = 0,\n  orderBy: string = \"created_at\",\n  order: boolean = false\n) {\n  const query = connectSupabase\n    .from(\"auction_post\")\n    .select(\"*, category(category_name), user_info(user_email)\")\n    .order(`${orderBy}`, { ascending: order });\n\n  if (searchKeyword) {\n    query\n      .like(\"title\", `%${searchKeyword}%`)\n      .like(\"content\", `%${searchKeyword}%`);\n  }\n\n  if (categories.length > 0) {\n    query.in(\"category_id\", categories);\n  }\n\n  const { data } = await query.returns<Auction_post[]>();\n\n  return data;\n}\n\nexport const fetchGetCategories = async () => {\n  const { data } = await connectSupabase.from(\"category\").select(\"*\");\n  return data;\n};\n\nexport const fetchGetAuctionById = async (auction_id: string) => {\n  const { data, error } = await connectSupabase\n    .from(\"auction_post\")\n    .select(`auction_post:*, auction_images(image_path)`)\n    .eq(\"auction_id\", auction_id)\n    .single();\n\n  if (error) throw new Error(error.message);\n\n  return data;\n};\n"],"mappings":"AAAA;AACA,OAAOA,eAAe,MAAM,mBAAmB;AAI/C;AACA;AACA;AACA;AACA,OAAO,eAAeC,gBAAgBA,CACpCC,aAAqB,GAAG,EAAE,EAC1BC,UAA2C,EAC3CC,KAAa,GAAG,EAAE,EAClBC,MAAc,GAAG,CAAC,EAClBC,OAAe,GAAG,YAAY,EAC9BC,KAAc,GAAG,KAAK,EACtB;EACA,MAAMC,KAAK,GAAGR,eAAe,CAC1BS,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAC,mDAAmD,CAAC,CAC3DH,KAAK,CAAE,GAAED,OAAQ,EAAC,EAAE;IAAEK,SAAS,EAAEJ;EAAM,CAAC,CAAC;EAE5C,IAAIL,aAAa,EAAE;IACjBM,KAAK,CACFI,IAAI,CAAC,OAAO,EAAG,IAAGV,aAAc,GAAE,CAAC,CACnCU,IAAI,CAAC,SAAS,EAAG,IAAGV,aAAc,GAAE,CAAC;EAC1C;EAEA,IAAIC,UAAU,CAACU,MAAM,GAAG,CAAC,EAAE;IACzBL,KAAK,CAACM,EAAE,CAAC,aAAa,EAAEX,UAAU,CAAC;EACrC;EAEA,MAAM;IAAEY;EAAK,CAAC,GAAG,MAAMP,KAAK,CAACQ,OAAO,CAAiB,CAAC;EAEtD,OAAOD,IAAI;AACb;AAEA,OAAO,MAAME,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC5C,MAAM;IAAEF;EAAK,CAAC,GAAG,MAAMf,eAAe,CAACS,IAAI,CAAC,UAAU,CAAC,CAACC,MAAM,CAAC,GAAG,CAAC;EACnE,OAAOK,IAAI;AACb,CAAC;AAED,OAAO,MAAMG,mBAAmB,GAAG,MAAOC,UAAkB,IAAK;EAC/D,MAAM;IAAEJ,IAAI;IAAEK;EAAM,CAAC,GAAG,MAAMpB,eAAe,CAC1CS,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAE,4CAA2C,CAAC,CACpDW,EAAE,CAAC,YAAY,EAAEF,UAAU,CAAC,CAC5BG,MAAM,CAAC,CAAC;EAEX,IAAIF,KAAK,EAAE,MAAM,IAAIG,KAAK,CAACH,KAAK,CAACI,OAAO,CAAC;EAEzC,OAAOT,IAAI;AACb,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}