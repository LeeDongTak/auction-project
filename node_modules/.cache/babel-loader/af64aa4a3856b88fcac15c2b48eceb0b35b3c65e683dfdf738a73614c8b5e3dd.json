{"ast":null,"code":"import dayjs from \"dayjs\";\nimport { AuctionStatus } from \"../types/detailTyps\";\nexport function transDate(date) {\n  return dayjs(date).format(\"YYYY. MM. DD\");\n}\nexport function calculateAuctionStatusAndTime(auctionStartDate, auctionEndDate) {\n  const result = {\n    message: \"\",\n    isOver: AuctionStatus.START | AuctionStatus.END | AuctionStatus.READY\n  };\n  const now = dayjs();\n  const startDate = dayjs(auctionStartDate);\n  const endDate = dayjs(auctionEndDate);\n\n  // 경매가 아직 시작되지 않았을 경우\n  if (now.isBefore(startDate)) {\n    result.isOver = AuctionStatus.READY;\n    return result;\n  }\n\n  // 경매가 종료된 경우\n  if (now.isAfter(endDate)) {\n    result.message = \"경매가 종료되었습니다.\";\n    result.isOver = AuctionStatus.END;\n    return result;\n  }\n\n  // 경매가 진행 중일 경우, 남은 시간 계산\n  const diff = endDate.diff(now);\n  const days = Math.floor(diff / (24 * 60 * 60 * 1000));\n  const hours = Math.floor(diff % (24 * 60 * 60 * 1000) / (60 * 60 * 1000));\n  const minutes = Math.floor(diff % (60 * 60 * 1000) / (60 * 1000));\n  const seconds = Math.floor(diff % (60 * 1000) / 1000);\n  result.message = `${days}일 ${hours}시간 ${minutes}분 ${seconds}초 남음`;\n  result.isOver = AuctionStatus.START;\n  return result;\n}","map":{"version":3,"names":["dayjs","AuctionStatus","transDate","date","format","calculateAuctionStatusAndTime","auctionStartDate","auctionEndDate","result","message","isOver","START","END","READY","now","startDate","endDate","isBefore","isAfter","diff","days","Math","floor","hours","minutes","seconds"],"sources":["/Users/yeol/programing/project/auction_project/src/common/dayjs.ts"],"sourcesContent":["import dayjs from \"dayjs\";\nimport { AuctionStatus } from \"../types/detailTyps\";\n\ntype TimeUntilReturn = {\n  message: string;\n  isOver: AuctionStatus.START | AuctionStatus.END;\n};\n\nexport function transDate(date: Date | string) {\n  return dayjs(date).format(\"YYYY. MM. DD\");\n}\n\nexport function calculateAuctionStatusAndTime(\n  auctionStartDate: Date | string | undefined,\n  auctionEndDate: Date | string | undefined\n): TimeUntilReturn {\n  const result = {\n    message: \"\",\n    isOver: AuctionStatus.START | AuctionStatus.END | AuctionStatus.READY,\n  };\n\n  const now = dayjs();\n  const startDate = dayjs(auctionStartDate);\n  const endDate = dayjs(auctionEndDate);\n\n  // 경매가 아직 시작되지 않았을 경우\n  if (now.isBefore(startDate)) {\n    result.isOver = AuctionStatus.READY;\n    return result;\n  }\n\n  // 경매가 종료된 경우\n  if (now.isAfter(endDate)) {\n    result.message = \"경매가 종료되었습니다.\";\n    result.isOver = AuctionStatus.END;\n    return result;\n  }\n\n  // 경매가 진행 중일 경우, 남은 시간 계산\n  const diff = endDate.diff(now);\n  const days = Math.floor(diff / (24 * 60 * 60 * 1000));\n  const hours = Math.floor((diff % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));\n  const minutes = Math.floor((diff % (60 * 60 * 1000)) / (60 * 1000));\n  const seconds = Math.floor((diff % (60 * 1000)) / 1000);\n\n  result.message = `${days}일 ${hours}시간 ${minutes}분 ${seconds}초 남음`;\n  result.isOver = AuctionStatus.START;\n\n  return result;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,qBAAqB;AAOnD,OAAO,SAASC,SAASA,CAACC,IAAmB,EAAE;EAC7C,OAAOH,KAAK,CAACG,IAAI,CAAC,CAACC,MAAM,CAAC,cAAc,CAAC;AAC3C;AAEA,OAAO,SAASC,6BAA6BA,CAC3CC,gBAA2C,EAC3CC,cAAyC,EACxB;EACjB,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAET,aAAa,CAACU,KAAK,GAAGV,aAAa,CAACW,GAAG,GAAGX,aAAa,CAACY;EAClE,CAAC;EAED,MAAMC,GAAG,GAAGd,KAAK,CAAC,CAAC;EACnB,MAAMe,SAAS,GAAGf,KAAK,CAACM,gBAAgB,CAAC;EACzC,MAAMU,OAAO,GAAGhB,KAAK,CAACO,cAAc,CAAC;;EAErC;EACA,IAAIO,GAAG,CAACG,QAAQ,CAACF,SAAS,CAAC,EAAE;IAC3BP,MAAM,CAACE,MAAM,GAAGT,aAAa,CAACY,KAAK;IACnC,OAAOL,MAAM;EACf;;EAEA;EACA,IAAIM,GAAG,CAACI,OAAO,CAACF,OAAO,CAAC,EAAE;IACxBR,MAAM,CAACC,OAAO,GAAG,cAAc;IAC/BD,MAAM,CAACE,MAAM,GAAGT,aAAa,CAACW,GAAG;IACjC,OAAOJ,MAAM;EACf;;EAEA;EACA,MAAMW,IAAI,GAAGH,OAAO,CAACG,IAAI,CAACL,GAAG,CAAC;EAC9B,MAAMM,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;EACrD,MAAMI,KAAK,GAAGF,IAAI,CAACC,KAAK,CAAEH,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,IAAK,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;EAC3E,MAAMK,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEH,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,IAAK,EAAE,GAAG,IAAI,CAAC,CAAC;EACnE,MAAMM,OAAO,GAAGJ,IAAI,CAACC,KAAK,CAAEH,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,GAAI,IAAI,CAAC;EAEvDX,MAAM,CAACC,OAAO,GAAI,GAAEW,IAAK,KAAIG,KAAM,MAAKC,OAAQ,KAAIC,OAAQ,MAAK;EACjEjB,MAAM,CAACE,MAAM,GAAGT,aAAa,CAACU,KAAK;EAEnC,OAAOH,MAAM;AACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}