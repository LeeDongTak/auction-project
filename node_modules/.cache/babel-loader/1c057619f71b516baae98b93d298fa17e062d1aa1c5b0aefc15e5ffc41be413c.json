{"ast":null,"code":"import dayjs from \"dayjs\";\nimport { AuctionStatus } from \"../types/detailTyps\";\nexport function transDate(date) {\n  return dayjs(date).format(\"YYYY. MM. DD\");\n}\nexport function calculateTimeUntil(targetDate) {\n  const result = {\n    message: \"\",\n    isOver: AuctionStatus.START | AuctionStatus.END\n  };\n  const now = dayjs();\n  const endDate = dayjs(targetDate);\n  if (endDate.isBefore(now)) {\n    result.isOver = AuctionStatus.END;\n    result.message = \"목표 날짜가 이미 지났습니다.\";\n    return result;\n  }\n  const diff = endDate.diff(now);\n  const days = Math.floor(diff / (24 * 60 * 60 * 1000));\n  const hours = Math.floor(diff % (24 * 60 * 60 * 1000) / (60 * 60 * 1000));\n  const minutes = Math.floor(diff % (60 * 60 * 1000) / (60 * 1000));\n  const seconds = Math.floor(diff % (60 * 1000) / 1000);\n  result.message = `${days}일 ${hours}시간 ${minutes}분 ${seconds}초 남음`;\n  result.isOver = AuctionStatus.START;\n  return result;\n}\nexport function updateAuctionStatus(auctionStartDate) {\n  const result = {\n    message: \"\",\n    isOver: AuctionStatus.START | AuctionStatus.END | AuctionStatus.READY\n  };\n  const now = dayjs();\n  const startDate = dayjs(auctionStartDate);\n\n  // 경매 상태를 저장하는 변수입니다.\n  let auctionStatus = \"경매 대기 중\";\n\n  // 현재 날짜가 경매 시작 날짜 이후인 경우, 경매 상태를 '경매 시작'으로 변경합니다.\n  if (now.isAfter(startDate)) {\n    auctionStatus = \"경매 시작\";\n  }\n  return auctionStatus;\n}","map":{"version":3,"names":["dayjs","AuctionStatus","transDate","date","format","calculateTimeUntil","targetDate","result","message","isOver","START","END","now","endDate","isBefore","diff","days","Math","floor","hours","minutes","seconds","updateAuctionStatus","auctionStartDate","READY","startDate","auctionStatus","isAfter"],"sources":["/Users/yeol/programing/project/auction_project/src/common/dayjs.ts"],"sourcesContent":["import dayjs from \"dayjs\";\nimport { AuctionStatus } from \"../types/detailTyps\";\n\ntype TimeUntilReturn = {\n  message: string;\n  isOver: AuctionStatus.START | AuctionStatus.END;\n};\n\nexport function transDate(date: Date | string) {\n  return dayjs(date).format(\"YYYY. MM. DD\");\n}\n\nexport function calculateTimeUntil(targetDate: Date | string): TimeUntilReturn {\n  const result = {\n    message: \"\",\n    isOver: AuctionStatus.START | AuctionStatus.END,\n  };\n\n  const now = dayjs();\n  const endDate = dayjs(targetDate);\n\n  if (endDate.isBefore(now)) {\n    result.isOver = AuctionStatus.END;\n    result.message = \"목표 날짜가 이미 지났습니다.\";\n    return result;\n  }\n\n  const diff = endDate.diff(now);\n\n  const days = Math.floor(diff / (24 * 60 * 60 * 1000));\n  const hours = Math.floor((diff % (24 * 60 * 60 * 1000)) / (60 * 60 * 1000));\n  const minutes = Math.floor((diff % (60 * 60 * 1000)) / (60 * 1000));\n  const seconds = Math.floor((diff % (60 * 1000)) / 1000);\n\n  result.message = `${days}일 ${hours}시간 ${minutes}분 ${seconds}초 남음`;\n  result.isOver = AuctionStatus.START;\n\n  return result;\n}\n\nexport function updateAuctionStatus(\n  auctionStartDate: Date | string\n): TimeUntilReturn {\n  const result = {\n    message: \"\",\n    isOver: AuctionStatus.START | AuctionStatus.END | AuctionStatus.READY,\n  };\n  const now = dayjs();\n  const startDate = dayjs(auctionStartDate);\n\n  // 경매 상태를 저장하는 변수입니다.\n  let auctionStatus = \"경매 대기 중\";\n\n  // 현재 날짜가 경매 시작 날짜 이후인 경우, 경매 상태를 '경매 시작'으로 변경합니다.\n  if (now.isAfter(startDate)) {\n    auctionStatus = \"경매 시작\";\n  }\n\n  return auctionStatus;\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,QAAQ,qBAAqB;AAOnD,OAAO,SAASC,SAASA,CAACC,IAAmB,EAAE;EAC7C,OAAOH,KAAK,CAACG,IAAI,CAAC,CAACC,MAAM,CAAC,cAAc,CAAC;AAC3C;AAEA,OAAO,SAASC,kBAAkBA,CAACC,UAAyB,EAAmB;EAC7E,MAAMC,MAAM,GAAG;IACbC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAER,aAAa,CAACS,KAAK,GAAGT,aAAa,CAACU;EAC9C,CAAC;EAED,MAAMC,GAAG,GAAGZ,KAAK,CAAC,CAAC;EACnB,MAAMa,OAAO,GAAGb,KAAK,CAACM,UAAU,CAAC;EAEjC,IAAIO,OAAO,CAACC,QAAQ,CAACF,GAAG,CAAC,EAAE;IACzBL,MAAM,CAACE,MAAM,GAAGR,aAAa,CAACU,GAAG;IACjCJ,MAAM,CAACC,OAAO,GAAG,kBAAkB;IACnC,OAAOD,MAAM;EACf;EAEA,MAAMQ,IAAI,GAAGF,OAAO,CAACE,IAAI,CAACH,GAAG,CAAC;EAE9B,MAAMI,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;EACrD,MAAMI,KAAK,GAAGF,IAAI,CAACC,KAAK,CAAEH,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,IAAK,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC;EAC3E,MAAMK,OAAO,GAAGH,IAAI,CAACC,KAAK,CAAEH,IAAI,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC,IAAK,EAAE,GAAG,IAAI,CAAC,CAAC;EACnE,MAAMM,OAAO,GAAGJ,IAAI,CAACC,KAAK,CAAEH,IAAI,IAAI,EAAE,GAAG,IAAI,CAAC,GAAI,IAAI,CAAC;EAEvDR,MAAM,CAACC,OAAO,GAAI,GAAEQ,IAAK,KAAIG,KAAM,MAAKC,OAAQ,KAAIC,OAAQ,MAAK;EACjEd,MAAM,CAACE,MAAM,GAAGR,aAAa,CAACS,KAAK;EAEnC,OAAOH,MAAM;AACf;AAEA,OAAO,SAASe,mBAAmBA,CACjCC,gBAA+B,EACd;EACjB,MAAMhB,MAAM,GAAG;IACbC,OAAO,EAAE,EAAE;IACXC,MAAM,EAAER,aAAa,CAACS,KAAK,GAAGT,aAAa,CAACU,GAAG,GAAGV,aAAa,CAACuB;EAClE,CAAC;EACD,MAAMZ,GAAG,GAAGZ,KAAK,CAAC,CAAC;EACnB,MAAMyB,SAAS,GAAGzB,KAAK,CAACuB,gBAAgB,CAAC;;EAEzC;EACA,IAAIG,aAAa,GAAG,SAAS;;EAE7B;EACA,IAAId,GAAG,CAACe,OAAO,CAACF,SAAS,CAAC,EAAE;IAC1BC,aAAa,GAAG,OAAO;EACzB;EAEA,OAAOA,aAAa;AACtB"},"metadata":{},"sourceType":"module","externalDependencies":[]}